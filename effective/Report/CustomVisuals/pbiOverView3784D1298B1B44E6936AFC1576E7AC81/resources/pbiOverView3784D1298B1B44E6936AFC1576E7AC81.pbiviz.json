{"visual":{"name":"pbiOverView","displayName":"Overview by CloudScope","guid":"pbiOverView3784D1298B1B44E6936AFC1576E7AC81","visualClassName":"Visual","version":"1.2.0","description":"An Instagram-style account introduction/overview visualization","supportUrl":"https://www.cloudscope.io/support/custom-visualizations/overview","gitHubUrl":"https://github.com/chriswill/PbiOverView"},"author":{"name":"CloudScope, LLC","email":"support@cloudscope.io"},"apiVersion":"2.6.0","style":"style/visual.less","stringResources":{"en-US":{"locale":"en-US","values":{"accountFields":"Account fields","columnNotMapped":"Not mapped","columnName":"Name","columnUserName":"User name","columnBiography":"Biography","columnWebsiteUrl":"Website URL","columnProfilePicture":"Profile picture Url","columnData":"Data","optionsMapping":"Column mapping","optionsFormatting":"Formatting","optionsHeadFontSize":"Headline font size","optionsBodyFontSize":"Body font size","optionsImageSize":"Image size","settingsDisplayOptions":"Display options","optionsShowVersion":"Show version","descShowVersion":"Temporarily displays version information"}}},"capabilities":{"dataRoles":[{"displayName":"Account fields","displayNameKey":"accountFields","name":"account","kind":"GroupingOrMeasure"}],"objects":{"columnOptions":{"displayName":"Column mapping","displayNameKey":"optionsMapping","properties":{"fieldType":{"displayName":"Field mapping","type":{"enumeration":[{"value":"notMapped","displayName":"Not mapped","displayNameKey":"columnNotMapped"},{"value":"name","displayName":"Name","displayNameKey":"columnName"},{"value":"userName","displayName":"User name","displayNameKey":"columnUserName"},{"value":"biography","displayName":"Biography","displayNameKey":"columnBiography"},{"value":"websiteUrl","displayName":"Website URL","displayNameKey":"columnWebsiteUrl"},{"value":"profilePictureUrl","displayName":"Profile picture URL","displayNameKey":"columnProfilePicture"},{"value":"data","displayName":"Data","displayNameKey":"columnData"}]}}}},"formatting":{"displayName":"Formatting","displayNameKey":"optionsFormatting","properties":{"headFontSize":{"displayName":"Headline font size","displayNameKey":"optionsHeadFontSize","type":{"integer":true}},"bodyFontSize":{"displayName":"Body font size","displayNameKey":"optionsBodyFontSize","type":{"integer":true}},"imageSize":{"displayName":"Image size","displayNameKey":"optionsImageSize","type":{"integer":true}}}},"displayOptions":{"displayName":"Display options","displayNameKey":"settingsDisplayOptions","properties":{"showVersion":{"displayName":"Show version","displayNameKey":"optionsShowVersion","description":"Temporarily displays version information","descriptionKey":"descShowVersion","type":{"bool":true}}}}},"dataViewMappings":[{"conditions":[{"account":{"min":0}}],"table":{"rows":{"for":{"in":"account"}}}}],"sorting":{"default":{}}},"content":{"js":"var pbiOverView3784D1298B1B44E6936AFC1576E7AC81=function(e){var t={};function n(i){if(t[i])return t[i].exports;var a=t[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var a in e)n.d(i,a,function(t){return e[t]}.bind(null,a));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"assets\",n(n.s=1)}([function(e,t,n){\"use strict\";n.d(t,\"a\",function(){return l});n(4);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}var r=function e(){a(this,e)},o=function e(){a(this,e)},s=function e(){a(this,e),this.data=[]},l=function(){function e(t){var n=this;a(this,e),this.target=t.element,this.host=t.host,this.locale=t.host.locale,this.selectionManager=t.host.createSelectionManager(),this.target.style.overflowY=\"auto\",this.currentSelected=[],this.accounts=[],this.events=t.host.eventService,this.selectionManager.registerOnSelectCallback(function(e){n.currentSelected=e;for(var t=0;t<n.accounts.length;t++){var i=n.accounts[t];i.selected=n.isSelectionIdInArray(e,i.selectionId)}n.displayVisual()})}var t,n,l;return t=e,(n=[{key:\"update\",value:function(e){try{this.events.renderingStarted(e),this.selectionIds=this.getSelectionIds(e.dataViews[0],this.host);var t=this.dataView=e.dataViews[0];if(null!=t&&null!=t.table){var n={formatOptions:{headFontSize:32,bodyFontSize:16,imageSize:150},displayOptions:{showVersion:!1}},i=e.dataViews[0].metadata.objects,a={formatOptions:{headFontSize:this.getValue(i,\"formatting\",\"headFontSize\",n.formatOptions.headFontSize),bodyFontSize:this.getValue(i,\"formatting\",\"bodyFontSize\",n.formatOptions.bodyFontSize),imageSize:this.getValue(i,\"formatting\",\"imageSize\",n.formatOptions.imageSize)},displayOptions:{showVersion:this.getValue(i,\"displayOptions\",\"showVersion\",n.displayOptions.showVersion)}};this.settings=a,this.loadData(),this.displayVisual()}this.events.renderingFinished(e)}catch(t){this.events.renderingFailed(e,t.message)}}},{key:\"isSelectionIdInArray\",value:function(e,t){return!(!e||!t)&&e.some(function(e){return e.includes(t)})}},{key:\"loadData\",value:function(){var e=this.dataView.table,t=e.columns,n=e.rows,i=this.getColumnIndex(t,\"name\"),a=this.getColumnIndex(t,\"userName\"),l=this.getColumnIndex(t,\"biography\"),u=this.getColumnIndex(t,\"websiteUrl\"),c=this.getColumnIndex(t,\"profilePictureUrl\"),d=this.getDataColumnIndexes(t,\"data\"),m=new r;m.nameColumn=null!=i,m.userNameColumn=null!=a,m.biographyColumn=null!=l,m.websiteColumn=null!=u,m.profilePictureColumn=null!=c,m.dataColumn=null!=d&&d.length>0,this.columnSettings=m,this.accounts=[];for(var p=0;p<n.length;p++){var f=n[p],h=new s;if(h.selectionId=this.selectionIds[p],h.selected=this.isSelectionIdInArray(this.currentSelected,h.selectionId),null!==i){var g=f[i];null!==g&&(h.name=g.toString())}if(null!==a){var v=f[a];null!==v&&(h.userName=v.toString())}if(null!==l){var b=f[l];null!==b&&(h.description=b.toString())}if(null!==u){var y=f[u];null!==y&&(h.websiteUrl=y.toString())}if(null!==c){var S=f[c];null!==S&&(h.profilePictureUrl=S.toString())}for(var C=0;C<d.length;C++){var x=d[C],O=t[x],w=new o;w.name=O.displayName,null!==O.type&&void 0!==O.type.misc&&(O.type.misc.imageUrl||O.type.misc.webUrl)&&(w.isUrl=!0);var F=f[x];if(w.value=F,null!==F){if(!0===O.type.text){var z=f[x].toString(),A=z;w.isUrl&&-1!==z.indexOf(\"//\")?((A=z.substring(z.indexOf(\"//\")+2)).lastIndexOf(\"/\")===A.length-1&&(A=A.substring(0,A.length-1)),w.formattedValue=A):w.formattedValue=z}else!0===O.type.numeric?w.formattedValue=this.formatNumber(f[x]):!0===O.type.dateTime?w.formattedValue=this.formatDate(f[x]):!0===O.type.bool&&(w.formattedValue=this.formatBoolean(f[x]));h.data.push(w)}}this.accounts.push(h)}}},{key:\"displayVisual\",value:function(){for(var e=this;this.target.firstChild;)this.target.removeChild(this.target.firstChild);if(this.settings.displayOptions.showVersion){var t=document.createElement(\"div\");t.setAttribute(\"class\",\"version\"),t.appendChild(document.createTextNode(\"Overview by CloudScope, version 1.2.0\")),this.target.appendChild(t)}for(var n=function(t){var n=e.accounts[t],i=document.createElement(\"div\");if(i.classList.add(\"header\"),i.setAttribute(\"style\",\"margin-bottom:\"+(e.settings.formatOptions.headFontSize+8)+\"px;\"),n.selected||0===e.currentSelected.length?i.classList.remove(\"dim\"):e.currentSelected.length>0&&i.classList.add(\"dim\"),i.onclick=function(t){e.selectionManager.select(n.selectionId).then(function(t){var a=document.querySelectorAll(\".header\");if(null!=t&&t.length>0){for(var r=0;r<a.length;r++)a[r].classList.add(\"dim\");i.classList.remove(\"dim\"),e.currentSelected=[n.selectionId]}else for(var o=0;o<a.length;o++)a[o].classList.remove(\"dim\")})},e.columnSettings.profilePictureColumn){var a=document.createElement(\"div\");a.setAttribute(\"class\",\"image-outer\");var r=document.createElement(\"div\");if(r.setAttribute(\"class\",\"image-inner\"),r.setAttribute(\"style\",\"height:\"+e.settings.formatOptions.imageSize+\"px; width:\"+e.settings.formatOptions.imageSize+\"px\"),null!=n.profilePictureUrl){var o=document.createElement(\"img\");o.setAttribute(\"class\",\"image\"),o.setAttribute(\"src\",n.profilePictureUrl),e.columnSettings.nameColumn&&null!=n.name&&o.setAttribute(\"alt\",e.htmlEscape(n.name.toString())),r.appendChild(o)}a.appendChild(r),i.appendChild(a)}var s=document.createElement(\"section\");if(e.columnSettings.profilePictureColumn&&s.setAttribute(\"style\",\"flex-basis:30px;\"),e.columnSettings.userNameColumn){var l=document.createElement(\"div\");l.setAttribute(\"class\",\"userName\"),l.setAttribute(\"style\",\"font-size:\"+e.settings.formatOptions.headFontSize+\"px; margin-bottom:\"+(e.settings.formatOptions.bodyFontSize+8)+\"px;\"),l.appendChild(document.createTextNode(n.userName)),s.appendChild(l)}if(e.columnSettings.dataColumn){var u=document.createElement(\"ul\");u.setAttribute(\"class\",\"data\"),u.setAttribute(\"style\",\"margin-bottom:\"+(e.settings.formatOptions.bodyFontSize+8)+\"px;\");for(var c=0;c<n.data.length;c++){var d=document.createElement(\"li\");d.setAttribute(\"style\",\"font-size:\"+e.settings.formatOptions.bodyFontSize+\"px;\");var m=n.data[c],p=document.createElement(\"span\");p.setAttribute(\"class\",\"bold\"),p.appendChild(document.createTextNode(m.formattedValue)),d.appendChild(p),d.appendChild(document.createTextNode(\"Â \"+m.name.toLocaleLowerCase())),u.appendChild(d)}s.appendChild(u)}if(e.columnSettings.nameColumn||e.columnSettings.biographyColumn||e.columnSettings.websiteColumn){var f=document.createElement(\"div\");if(e.columnSettings.nameColumn){var h=document.createElement(\"h1\");h.setAttribute(\"class\",\"name\"),h.setAttribute(\"style\",\"font-size:\"+e.settings.formatOptions.bodyFontSize+\"px;\"),null!=n.name&&h.appendChild(document.createTextNode(n.name+\" \")),f.appendChild(h)}if(e.columnSettings.biographyColumn){var g=document.createElement(\"span\");g.setAttribute(\"style\",\"font-size:\"+e.settings.formatOptions.bodyFontSize+\"px;\"),null!=n.description&&g.appendChild(document.createTextNode(n.description)),f.appendChild(g)}if(e.columnSettings.websiteColumn){var v=document.createElement(\"a\");if(v.setAttribute(\"class\",\"web-link bold\"),v.setAttribute(\"style\",\"font-size:\"+e.settings.formatOptions.bodyFontSize+\"px;\"),null!=n.websiteUrl){v.onclick=function(t){t.stopImmediatePropagation(),e.host.launchUrl(n.websiteUrl)};var b=n.websiteUrl,y=b;b.indexOf(\"//\")>-1&&(y=b.substring(b.indexOf(\"//\")+2)).lastIndexOf(\"/\")===y.length-1&&(y=y.substring(0,y.length-1)),v.appendChild(document.createTextNode(y))}f.appendChild(v)}s.appendChild(f)}i.appendChild(s),e.target.appendChild(i)},i=0;i<this.accounts.length;i++)n(i)}},{key:\"getValue\",value:function(e,t,n,i){if(e){var a=e[t];if(a){var r=a[n];if(void 0!==r)return r}}return i}},{key:\"getColumnIndex\",value:function(e,t){if(e)for(var n=0;n<e.length;n++){var i=e[n];if(i.objects){var a=i.objects.columnOptions;if(a)if(a.fieldType.toString()===t)return n}}return null}},{key:\"getDataColumnIndexes\",value:function(e,t){if(e){for(var n=[],i=0;i<e.length;i++){var a=e[i];if(a.objects){var r=a.objects.columnOptions;if(r)r.fieldType.toString()===t&&n.push(i)}}return n}return null}},{key:\"getSelectionIds\",value:function(e,t){var n=[];if(void 0===e.table.identity)return n;for(var i=0,a=e.table.rows.length;i<a;i++){var r=t.createSelectionIdBuilder().withTable(e.table,i).createSelectionId();n.push(r)}return n}},{key:\"htmlEscape\",value:function(e){return e.replace(/&/g,\"&amp;\").replace(/\"/g,\"&quot;\").replace(/'/g,\"&#39;\").replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\")}},{key:\"formatBoolean\",value:function(e){return!0===e?\"true\":\"false\"}},{key:\"formatDate\",value:function(e){var t=[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"][e.getMonth()]+\" \"+e.getDate();return e.getFullYear()!==(new Date).getFullYear()&&(t+=\" \"+e.getFullYear()),t}},{key:\"formatNumber\",value:function(e){if(e<1e4)return e.toLocaleString();if(e<1e6){var t=(e/1e3).toFixed(1);return\"0\"===t.charAt(t.length-1)?(e/1e3).toFixed(0)+\"k\":t+\"k\"}if(e<1e9){var n=(e/1e6).toFixed(1);return\"0\"===n.charAt(n.length-1)?(e/1e6).toFixed(0)+\"m\":n+\"m\"}var i=(e/1e9).toFixed(1);return\"0\"===i.charAt(i.length-1)?(e/1e9).toFixed(0)+\"b\":i+\"b\"}},{key:\"enumerateObjectInstances\",value:function(e){var t=e.objectName,n=[],i=this.dataView.table.columns;switch(t){case\"columnOptions\":for(var a=0;a<i.length;a++){var r=i[a];n.push({objectName:t,displayName:r.displayName,properties:{fieldType:this.getValue(r.objects,t,\"fieldType\",\"notMapped\")},selector:{metadata:r.queryName}})}break;case\"formatting\":n.push({objectName:t,properties:{headFontSize:this.settings.formatOptions.headFontSize,bodyFontSize:this.settings.formatOptions.bodyFontSize,imageSize:this.settings.formatOptions.imageSize},validValues:{headFontSize:{numberRange:{min:24,max:48}},bodyFontSize:{numberRange:{min:10,max:20}},imageSize:{numberRange:{min:50,max:200}}},selector:null});break;case\"displayOptions\":n.push({objectName:t,properties:{showVersion:this.settings.displayOptions.showVersion},selector:null})}return n}}])&&i(t.prototype,n),l&&i(t,l),e}()},function(e,t,n){e.exports=n(2)},function(e,t,n){\"use strict\";n.r(t),function(e){var i=n(0),a=e.powerbi,r={name:\"pbiOverView3784D1298B1B44E6936AFC1576E7AC81\",displayName:\"Overview by CloudScope\",class:\"Visual\",version:\"1.2.0\",apiVersion:\"2.6.0\",create:function(e){if(i.a)return new i.a(e);console.error(\"Visual instance not found\")},custom:!0};void 0!==a&&(a.visuals=a.visuals||{},a.visuals.plugins=a.visuals.plugins||{},a.visuals.plugins.pbiOverView3784D1298B1B44E6936AFC1576E7AC81=r),t.default=r}.call(this,n(3))},function(e,t){e.exports=Function(\"return this\")()},function(e,t,n){}]);\n//# sourceMappingURL=visual.js.map","css":"body {\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif;\n}\n.header {\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n  display: flex;\n  flex-direction: row;\n  flex-shrink: 0;\n  align-items: stretch;\n  padding: 0;\n}\n.image-outer {\n  flex-basis: 0;\n  -webkit-box-flex: 1;\n  flex-grow: 1;\n  margin-right: 30px;\n  flex-shrink: 0;\n}\n.image-inner {\n  display: block;\n  margin-left: auto;\n  margin-right: auto;\n  border-radius: 50%;\n  overflow: hidden;\n  position: relative;\n}\n.image {\n  height: 100%;\n  width: 100%;\n  left: 0;\n  top: 0;\n  position: absolute;\n}\nsection {\n  -webkit-box-flex: 2;\n  flex-grow: 2;\n  flex-shrink: 1;\n}\n.userName {\n  line-height: 40px;\n  font-weight: 200;\n}\nul.data {\n  display: flex;\n  flex-direction: row;\n  list-style-image: none;\n  list-style-position: outside;\n  list-style-type: none;\n  -webkit-box-direction: normal;\n  -webkit-box-orient: horizontal;\n  -webkit-margin-after: 20px;\n  -webkit-margin-before: 0px;\n  -webkit-margin-start: 0px;\n  -webkit-margin-end: 0px;\n  -webkit-padding-start: 0px;\n}\n.data li {\n  display: list-item;\n  margin-right: 40px;\n}\n.name {\n  display: inline;\n  font-weight: 600;\n}\n.web-link {\n  display: block;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.bold {\n  font-weight: 600;\n}\na,\na:visited {\n  color: #003569;\n  text-decoration: none;\n}\n.dim {\n  opacity: 0.5;\n}\n.version {\n  text-align: center;\n  font-size: 14px;\n  color: #657786;\n}\n\n\n/*# sourceMappingURL=visual.css.map*/","iconBase64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+nhxg7wAAAARnQU1BAACxjwv8YQUAAAABc1JHQgCuzhzpAAABHVBMVEUAAAA1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9Q1l9ShtlAvAAAAXnRSTlMAOzKS8CEQz7uy6arUwrPiU768zJCYFH3mPHYvbd4qnnwrKCSI6PonQg2EGltGb14CFgd+82ipZgqK33hQzdxwwL3xxPQXxhv2Ldh/rOHDCT8fBoNu/dLRNK3b0Lauk1FloAAAAONJREFUGNN1kVdbQjEMhoMsZYOKKG5xIyoI4t6iIrgHjvf//wyanufAueG7SJO3SdOmIgO0lfjAVSblsAm4/Axb/SbBr8xHwNevunlAc9MM9dDLbfOJH+NwreHOfvTx/bUBEkPhlzHBGe0SuX/+lj8LR0XKOfz5hQ3uTPxvYVikyrieUeFNZMSFNbK2EXEPjBJy4JUHlhhTNsWBC02j9QDzS8Fp2BTpuJmyGNErrUwaN2HhnlbWzy7Oj3bVSyqMM+sdWYhDY9dY7j9eVmMUdS1AKz1slTmFOWf3uN2bMSfbg76iC1b2LufzhMOTAAAAAElFTkSuQmCC"},"visualEntryPoint":"","externalJS":[],"assets":{"icon":"assets/icon.png"}}